import{r as i,R as H}from"./react-b2e82637.js";import{u as U,a as I,D as V,N as A,m as G,b as B,R as X,c as q,d as J,e as Q}from"./react-router-fd5cd91a.js";import{i as z,s as k,b as D,c as Y,d as Z,E as $,e as O}from"./@remix-run-3d0d33fe.js";/**
 * React Router DOM v6.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C(){return C=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},C.apply(this,arguments)}function W(n,t){if(n==null)return{};var e={},r=Object.keys(n),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function ee(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function te(n,t){return n.button===0&&(!t||t==="_self")&&!ee(n)}const ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],ae=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"];function Te(n,t){return Y({basename:t==null?void 0:t.basename,future:C({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Z({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||ie(),routes:n,mapRouteProperties:G,window:t==null?void 0:t.window}).initialize()}function ie(){var n;let t=(n=window)==null?void 0:n.__staticRouterHydrationData;return t&&t.errors&&(t=C({},t,{errors:re(t.errors)})),t}function re(n){if(!n)return null;let t=Object.entries(n),e={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")e[r]=new $(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let s=new o(a.message);s.stack="",e[r]=s}catch{}}if(e[r]==null){let o=new Error(a.message);o.stack="",e[r]=o}}else e[r]=a;return e}const K=i.createContext({isTransitioning:!1}),oe=i.createContext(new Map),se="startTransition",F=H[se];function le(n){F?F(n):n()}class ue{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",e(r))}})}}function Re(n){let{fallbackElement:t,router:e,future:r}=n,[a,o]=i.useState(e.state),[s,v]=i.useState(),[d,l]=i.useState({isTransitioning:!1}),[u,R]=i.useState(),[m,S]=i.useState(),[h,b]=i.useState(),L=i.useRef(new Map),{v7_startTransition:p}=r||{},w=i.useCallback(f=>{p?le(f):f()},[p]),c=i.useCallback((f,T)=>{let{deletedFetchers:y,unstable_viewTransitionOpts:P}=T;y.forEach(_=>L.current.delete(_)),f.fetchers.forEach((_,M)=>{_.data!==void 0&&L.current.set(M,_.data)}),!P||e.window==null||typeof e.window.document.startViewTransition!="function"?w(()=>o(f)):m&&u?(u.resolve(),m.skipTransition(),b({state:f,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(v(f),l({isTransitioning:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[e.window,m,u,L,w]);i.useLayoutEffect(()=>e.subscribe(c),[e,c]),i.useEffect(()=>{d.isTransitioning&&R(new ue)},[d.isTransitioning]),i.useEffect(()=>{if(u&&s&&e.window){let f=s,T=u.promise,y=e.window.document.startViewTransition(async()=>{w(()=>o(f)),await T});y.finished.finally(()=>{R(void 0),S(void 0),v(void 0),l({isTransitioning:!1})}),S(y)}},[w,s,u,e.window]),i.useEffect(()=>{u&&s&&a.location.key===s.location.key&&u.resolve()},[u,m,a.location,s]),i.useEffect(()=>{!d.isTransitioning&&h&&(v(h.state),l({isTransitioning:!0,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),b(void 0))},[d.isTransitioning,h]);let g=i.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:f=>e.navigate(f),push:(f,T,y)=>e.navigate(f,{state:T,preventScrollReset:y==null?void 0:y.preventScrollReset}),replace:(f,T,y)=>e.navigate(f,{replace:!0,state:T,preventScrollReset:y==null?void 0:y.preventScrollReset})}),[e]),x=e.basename||"/",E=i.useMemo(()=>({router:e,navigator:g,static:!1,basename:x}),[e,g,x]);return i.createElement(i.Fragment,null,i.createElement(B.Provider,{value:E},i.createElement(V.Provider,{value:a},i.createElement(oe.Provider,{value:L.current},i.createElement(K.Provider,{value:d},i.createElement(X,{basename:x,location:a.location,navigationType:a.historyAction,navigator:g},a.initialized?i.createElement(ce,{routes:e.routes,state:a}):t))))),null)}function ce(n){let{routes:t,state:e}=n;return q(t,void 0,e)}const fe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",de=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=i.forwardRef(function(t,e){let{onClick:r,relative:a,reloadDocument:o,replace:s,state:v,target:d,to:l,preventScrollReset:u,unstable_viewTransition:R}=t,m=W(t,ne),{basename:S}=i.useContext(A),h,b=!1;if(typeof l=="string"&&de.test(l)&&(h=l,fe))try{let c=new URL(window.location.href),g=l.startsWith("//")?new URL(c.protocol+l):new URL(l),x=k(g.pathname,S);g.origin===c.origin&&x!=null?l=x+g.search+g.hash:b=!0}catch{}let L=J(l,{relative:a}),p=ve(l,{replace:s,state:v,target:d,preventScrollReset:u,relative:a,unstable_viewTransition:R});function w(c){r&&r(c),c.defaultPrevented||p(c)}return i.createElement("a",C({},m,{href:h||L,onClick:b||o?r:w,ref:e,target:d}))}),Le=i.forwardRef(function(t,e){let{"aria-current":r="page",caseSensitive:a=!1,className:o="",end:s=!1,style:v,to:d,unstable_viewTransition:l,children:u}=t,R=W(t,ae),m=U(d,{relative:R.relative}),S=I(),h=i.useContext(V),{navigator:b}=i.useContext(A),L=h!=null&&me(m)&&l===!0,p=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,w=S.pathname,c=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;a||(w=w.toLowerCase(),c=c?c.toLowerCase():null,p=p.toLowerCase());let g=w===p||!s&&w.startsWith(p)&&w.charAt(p.length)==="/",x=c!=null&&(c===p||!s&&c.startsWith(p)&&c.charAt(p.length)==="/"),E={isActive:g,isPending:x,isTransitioning:L},f=g?r:void 0,T;typeof o=="function"?T=o(E):T=[o,g?"active":null,x?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let y=typeof v=="function"?v(E):v;return i.createElement(he,C({},R,{"aria-current":f,className:T,ref:e,style:y,to:d,unstable_viewTransition:l}),typeof u=="function"?u(E):u)});var N;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(N||(N={}));var j;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(j||(j={}));function pe(n){let t=i.useContext(B);return t||z(!1),t}function ve(n,t){let{target:e,replace:r,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:v}=t===void 0?{}:t,d=Q(),l=I(),u=U(n,{relative:s});return i.useCallback(R=>{if(te(R,e)){R.preventDefault();let m=r!==void 0?r:O(l)===O(u);d(n,{replace:m,state:a,preventScrollReset:o,relative:s,unstable_viewTransition:v})}},[l,d,u,r,a,e,n,o,s,v])}function me(n,t){t===void 0&&(t={});let e=i.useContext(K);e==null&&z(!1);let{basename:r}=pe(N.useViewTransitionState),a=U(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=k(e.currentLocation.pathname,r)||e.currentLocation.pathname,s=k(e.nextLocation.pathname,r)||e.nextLocation.pathname;return D(a.pathname,s)!=null||D(a.pathname,o)!=null}export{Le as N,Re as R,Te as c};
