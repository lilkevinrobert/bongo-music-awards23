import{r as n,j as e}from"./react-b72defc1.js";import{r as t}from"./@material-tailwind-31758b72.js";import{I as j,_ as m}from"./react-hot-toast-7c13a961.js";import{a as p,T as v,L}from"./index-5bd6e89f.js";import{N as b}from"./react-router-dom-fc96d914.js";import{e as N}from"./react-router-1941b8c8.js";import{P as R}from"./react-spinners-e022d723.js";import"./@emotion-dbfef640.js";import"./classnames-63c61219.js";import"./tailwind-merge-4e201461.js";import"./prop-types-1cbc6ab3.js";import"./deepmerge-1a216343.js";import"./tslib-e99c189e.js";import"./hey-listen-e9db0d45.js";import"./style-value-types-86c13b32.js";import"./popmotion-e8151042.js";import"./framesync-409e5dda.js";import"./@motionone-d9be48c4.js";import"./material-ripple-effects-ffa693ae.js";import"./@floating-ui-b9e68a19.js";import"./aria-hidden-318acb9e.js";import"./tabbable-6ab97b54.js";import"./react-dom-c53f0256.js";import"./scheduler-765c72db.js";import"./goober-70b4b9ca.js";import"./tw-elements-ab3535c4.js";import"./axios-28bc18a3.js";import"./react-icons-ec1e1210.js";import"./react-hook-form-592090e6.js";import"./flowbite-react-b7121155.js";import"./react-indiana-drag-scroll-6942150b.js";import"./recharts-b436783c.js";import"./clsx-0839fdbe.js";import"./lodash-36a35ae7.js";import"./react-smooth-ce808070.js";import"./fast-equals-a0711cdd.js";import"./tiny-invariant-dd7d57d2.js";import"./d3-shape-9e788a4f.js";import"./d3-path-41c4cb36.js";import"./victory-vendor-5e3e398c.js";import"./d3-scale-4cce9527.js";import"./internmap-7949acc8.js";import"./d3-array-7d9b19f9.js";import"./d3-time-format-aa787c71.js";import"./d3-time-9ce187c0.js";import"./d3-interpolate-8fa1f6ff.js";import"./d3-color-6502c434.js";import"./d3-format-ffdb8652.js";import"./recharts-scale-170b47f7.js";import"./decimal.js-light-6fe16ef2.js";import"./eventemitter3-5051c9e6.js";import"./@remix-run-3d0d33fe.js";const T={email:"",password:""},C={email:[],password:[]},E=()=>{var h,w;const[d,r]=n.useState(T),[s,x]=n.useState(""),[l]=n.useState(C),c=N(),g=i=>{const o=i.target.name,a=i.target.value;r(y=>({...y,[o]:a}))},f=async()=>{const{data:i}=await p.get("/api/user");console.log(i)},u=async i=>{i.preventDefault(),await p.get("/sanctum/csrf-cookie").then(o=>{console.log(o),window.setTimeout(()=>m.success(e.jsx("p",{className:"capitalize",children:"Authenticating..."})),1e3),p.post("/login",d).then(a=>{console.log(a);const y=a.data.data.token;p.defaults.headers.common.Authorization=`Bearer ${y}`,console.log("Response:Token "+a.data.data.token),f(),x(a.data.data.role),s=="admin"&&c("/admin/dashboard"),s=="Artist"&&c("/artist/dashboard"),s=="nominator"&&c("/nominator/dashboard"),s=="judge"&&c("/judge/dashboard")}).catch(a=>{a.response.status===422&&console.log(a.response.data.errors)})}).catch(()=>{window.setTimeout(()=>m.error(e.jsx("p",{className:"capitalize font-LatoBold",children:"Failed to login...Try again"})),1e3)})};return e.jsxs(e.Fragment,{children:[e.jsx(t.Card,{className:"w-96 shadow-none",children:e.jsxs("form",{onSubmit:u,children:[e.jsx(t.CardHeader,{className:"flex flex-col items-center justify-center shadow-none",children:e.jsx(t.Typography,{className:"self-start pl-2 text-lg text-gray-900 font-LatoRegular",children:"Enter account credentials to login."})}),e.jsxs(t.CardBody,{className:"flex flex-col gap-4 my-1",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"font-LatoBold capitalize text-gray-900",children:"email address"}),e.jsx("input",{placeholder:"Enter your Email Address",type:"email",name:"email",onChange:g,className:"pl-4 rounded-lg w-full font-LatoRegular border border-gray-500"}),((h=l==null?void 0:l.email)==null?void 0:h.length)>0&&e.jsx("span",{className:"text-red-400 text-sm m-2 p-2",children:l.email[0]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"font-LatoBold capitalize text-gray-900",children:"password"}),e.jsx("input",{placeholder:"Enter Your Password",type:"password",name:"password",onChange:g,className:"pl-4 rounded-lg w-full font-LatoRegular border border-gray-500"}),((w=l==null?void 0:l.password)==null?void 0:w.length)>0&&e.jsx("span",{className:"text-red-400 text-sm m-2 p-2",children:l.password[0]})]})]}),e.jsxs(t.CardFooter,{className:"pt-0",children:[e.jsx(t.Button,{variant:"gradient",fullWidth:!0,className:"bg-gray-950 hover:bg-yellow-300 text-white hover:text-gray-950 transition ease-in-out font-LatoBold",onClick:u,children:"Log In"}),e.jsx(b,{to:"/recovery",children:e.jsx(t.Typography,{variant:"small",className:"mt-6 flex justify-center font-LatoRegular transition-all ease-in-out hover:underline hover:underline-offset-4",children:"Forgot Password?"})})]})]})}),e.jsx(j,{position:"top-center"})]})},z=()=>{const[d,r]=n.useState(!1),[s,x]=n.useState(""),[l,c]=n.useState(""),[g,f]=n.useState(""),[u,h]=n.useState(""),w=N(),i=async o=>{o.preventDefault(),r(!0),await p.get("https://api.bongomusicawards.co.tz/sanctum/csrf-cookie").then(()=>{p.post("https://api.bongomusicawards.co.tz/api/artists/register",{first_name:s,last_name:l,email:g,password:u}).then(a=>{console.log(a),window.setTimeout(()=>m.success(e.jsx("p",{className:"capitalize",children:"Registering..."})),2e3),x(""),c(""),f(""),h(""),window.setTimeout(()=>m.success(e.jsx("p",{className:"capitalize",children:"Account Created successful..."})),2e3),r(!1),w("/login")}).catch(a=>{console.log(a),window.setTimeout(()=>m.error(e.jsx("p",{className:"capitalize",children:"Failed to create Account..."})),1e3),r(!1)})}).catch(a=>{console.log(a),window.setTimeout(()=>m.error(e.jsx("p",{className:"capitalize font-LatoBold",children:"Failed to Create artist..."})),1e3),r(!1)})};return e.jsx(t.Card,{className:"w-96 shadow-none",children:e.jsxs("form",{onSubmit:i,className:"mt-0 mb-2 w-full max-w-screen-lg sm:w-96",children:[e.jsx(t.CardHeader,{className:"shadow-none pl-2",children:e.jsx(t.Typography,{className:"text-lg text-gray-800 font-LatoRegular",children:"Enter your details to register."})}),e.jsxs(t.CardBody,{className:"mb-4 flex flex-col gap-4",children:[e.jsx("input",{type:"text",value:s,onChange:o=>x(o.target.value),className:"pl-4 rounded-lg w-full font-LatoRegular text-gray-900 border border-gray-400",placeholder:"Enter your Firstname"}),e.jsx("input",{type:"text",value:l,onChange:o=>c(o.target.value),className:"pl-4 rounded-lg w-full font-LatoRegular text-gray-900 border border-gray-400",placeholder:"Enter your Lastname"}),e.jsx("input",{value:g,onChange:o=>f(o.target.value),className:"pl-4 rounded-lg w-full font-LatoRegular text-gray-900 border border-gray-400",placeholder:"Enter your Email Address",type:"email"}),e.jsx("input",{value:u,onChange:o=>h(o.target.value),className:"pl-4 rounded-lg w-full font-LatoRegular text-gray-900 border border-gray-400",placeholder:"Enter your Password",type:"password"}),e.jsx(t.Button,{className:"font-LatoBold bg-gray-950 hover:bg-yellow-300 text-white hover:text-gray-950 transition ease-linear",fullWidth:!0,onClick:i,children:"Register"})]}),e.jsx(j,{position:"top-center"}),d&&e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx(R,{color:"#36d7b7"})})]})})},Ee=()=>{const d=[{label:"LOGIN",value:"login",desc:e.jsx(E,{})},{label:"REGISTER",value:"register",desc:e.jsx(z,{})}];return e.jsxs("section",{className:"relative px-4 w-full h-screen flex flex-col items-center justify-center bg-white",children:[e.jsx("img",{className:"absolute w-full h-full top-0 left-0 z-0 object-cover object-center bg-yellow-200 opacity-5",src:v,loading:"lazy"}),e.jsxs("div",{className:"w-full lg:w-1/2 shadow-none z-10",children:[e.jsx("div",{className:"w-full flex flex-row items-center justify-center my-4",children:e.jsx(b,{to:"/",className:"cursor-pointer",children:e.jsx("img",{src:L,alt:"bongo music awards logo",className:"text-sm w-36"})})}),e.jsxs(t.Tabs,{id:"custom-animation",value:"html",children:[e.jsx(t.TabsHeader,{className:"text-gray-950 bg-gradient-to-r from-yellow-300 to-white",children:d.map(({label:r,value:s})=>e.jsx(t.Tab,{value:s,className:"hover:bg-white hover:rounded-md text-gray-900 font-LatoBold",children:r},s))}),e.jsx(t.TabsBody,{animate:{initial:{y:250},mount:{y:0},unmount:{y:250}},className:"bg-white rounded-md shadow",children:d.map(({value:r,desc:s})=>e.jsx(t.TabPanel,{value:r,className:"flex items-center justify-center",children:s},r))}),e.jsx("p",{className:"font-LatoRegular text-gray-600 text-xs text-center pt-4",children:"Â© All rights reserved."})]})]})]})};export{Ee as default};
