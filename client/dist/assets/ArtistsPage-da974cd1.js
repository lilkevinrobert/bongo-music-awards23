import{r as l,a as d,j as e}from"./react-b72defc1.js";import{u as O,j as k,e as S,f as A,k as E,b as T,B as D}from"./index-c59e001a.js";import{r as s}from"./@material-tailwind-31758b72.js";import{G as M,C as F,I as P,am as I,E as G}from"./react-icons-896f604a.js";import{N as u}from"./react-router-dom-fc96d914.js";import"./@emotion-dbfef640.js";import"./react-dom-c53f0256.js";import"./scheduler-765c72db.js";import"./tw-elements-ab3535c4.js";import"./axios-28bc18a3.js";import"./react-hook-form-592090e6.js";import"./react-hot-toast-7c13a961.js";import"./goober-70b4b9ca.js";import"./react-spinners-4d5ffb55.js";import"./@hookform-8062e1fd.js";import"./yup-c8f01269.js";import"./property-expr-38205fa5.js";import"./tiny-case-d0726479.js";import"./toposort-dff2028e.js";import"./react-router-1941b8c8.js";import"./@remix-run-3d0d33fe.js";import"./flowbite-react-08061fbb.js";import"./react-indiana-drag-scroll-6942150b.js";import"./@floating-ui-b9e68a19.js";import"./aria-hidden-318acb9e.js";import"./tabbable-6ab97b54.js";import"./recharts-b436783c.js";import"./clsx-0839fdbe.js";import"./lodash-36a35ae7.js";import"./react-smooth-ce808070.js";import"./prop-types-1cbc6ab3.js";import"./fast-equals-a0711cdd.js";import"./tiny-invariant-dd7d57d2.js";import"./d3-shape-9e788a4f.js";import"./d3-path-41c4cb36.js";import"./victory-vendor-5e3e398c.js";import"./d3-scale-4cce9527.js";import"./internmap-7949acc8.js";import"./d3-array-7d9b19f9.js";import"./d3-time-format-aa787c71.js";import"./d3-time-9ce187c0.js";import"./d3-interpolate-8fa1f6ff.js";import"./d3-color-6502c434.js";import"./d3-format-ffdb8652.js";import"./recharts-scale-170b47f7.js";import"./decimal.js-light-6fe16ef2.js";import"./eventemitter3-5051c9e6.js";import"./classnames-63c61219.js";import"./tailwind-merge-4e201461.js";import"./deepmerge-1a216343.js";import"./tslib-e99c189e.js";import"./hey-listen-e9db0d45.js";import"./style-value-types-86c13b32.js";import"./popmotion-e8151042.js";import"./framesync-409e5dda.js";import"./@motionone-d9be48c4.js";import"./material-ripple-effects-ffa693ae.js";const U=()=>{const f="https://api.bongomusicawards.co.tz/api/v1",g="https://api.bongomusicawards.co.tz",[c,j]=l.useState([]),[i,p]=l.useState(""),[n,b]=l.useState(),[y,N]=d.useState(!1),[v,L]=d.useState(!1),[_,w]=d.useState(!1),x=()=>N(t=>!t),B=()=>L(t=>!t),m=t=>{t&&b(t),w(a=>!a)},{data:r,loading:z,error:o}=O(`${f}/artists`);return l.useEffect(()=>{const t=(r==null?void 0:r.data.filter(a=>{const C=`${a.user_information.first_name} ${a.user_information.middle_name} ${a.user_information.last_name}`.toLowerCase(),R=`${a.user_information.phone}`,$=i.toLowerCase();return C.includes($)||R.includes(i)||Object.values(a).some(h=>typeof h=="string"&&h.toLowerCase().includes(i.toLowerCase()))}))??[];j(t)},[i,r]),e.jsx(e.Fragment,{children:z?e.jsx(k,{}):o?e.jsx(S,{errorName:o==null?void 0:o.name,message:o==null?void 0:o.message}):(r==null?void 0:r.data.length)===0?e.jsx(A,{itemName:"artist"}):e.jsxs("div",{className:"mx-auto py-4",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between mb-4 w-full",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between w-auto",children:[e.jsx("input",{type:"text",placeholder:"Search artist...",value:i,onChange:t=>p(t.target.value),className:"p-4 border border-gray-500 rounded-full w-3/4 md:w-4/4 h-8 font-LatoRegular"}),e.jsxs(s.Button,{size:"sm",className:"ml-2 rounded-full bg-blue-500 hover:bg-blue-700 transition-all ease-in-out hidden md:flex items-center justify-center gap-2",onClick:()=>p(""),children:[e.jsx(M,{className:"text-lg font-LatoRegular"}),"Clear"]})]}),e.jsx(u,{to:"/admin/add-user-form?origin=artist",children:e.jsxs(s.Button,{size:"sm",className:"capitalize rounded-full flex flex-row items-center gap-3 font-LatoRegular bg-gray-800 hover:bg-yellow-300 hover:text-gray-900 transition ease-in-out",children:[e.jsx(F,{className:"text-lg"}),e.jsx(s.Typography,{className:" font-LatoRegular",children:"Add"})]})}),e.jsx(s.Dialog,{size:"xs",open:y,handler:x,className:"bg-transparent shadow-none",children:e.jsx("div",{className:"h-full border-red-400 flex items-center",children:e.jsx(E,{closeModal:x})})}),e.jsx(s.Dialog,{size:"xs",open:v,handler:B,className:"bg-transparent shadow-none",children:e.jsxs("div",{className:"h-full border-red-400 flex items-center justify-center",children:[e.jsx("p",{className:"text-gray-900 bg-amber-300 font-LatoBold p-6",children:"edit coming soon..."}),e.jsx("p",{className:"text-gray-900 bg-amber-300 font-LatoBold p-6",children:"(Press Esc to close dialog)"})]})}),e.jsx(s.Dialog,{size:"xs",open:_,handler:m,className:"bg-transparent shadow-none flex flex-row items-center justify-center",children:e.jsx("div",{className:"h-full border-red-400 flex items-center",children:e.jsxs("div",{className:"bg-white p-8 rounded-md shadow-md",children:[e.jsx(s.Typography,{className:"text-slate-900 font-LatoBold text-center",children:"Are you sure you want to Delete?"}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[e.jsx(P,{className:"text-4xl text-yellow-400"}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(s.Typography,{className:"text-slate-900 font-LatoRegular",children:"This action is irreversible"}),e.jsx(s.Typography,{className:"text-slate-900 font-LatoRegular",children:"You are about to delete an acount for"}),e.jsx("span",{className:"text-slate-900 uppercase font-LatoBold",children:n&&(n==null?void 0:n.stage_name)})]})]}),e.jsxs("div",{className:"flex items-center justify-center mt-4 bg-transparent",children:[e.jsx(s.Button,{size:"sm",type:"button",onClick:()=>m(void 0),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-LatoBold py-2 px-4 rounded mr-2 transition ease-in-out",children:"Cancel"}),e.jsx(s.Button,{size:"sm",type:"button",className:"bg-red-500 hover:bg-red-600 text-white font-LatoBold py-2 px-4 rounded",children:"Confirm Delete"})]})]})})})]}),e.jsxs("table",{className:"table-auto w-full bg-white border shadow",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 text-left font-LatoBold",children:[e.jsx("th",{className:"hidden md:block px-4 py-1"}),e.jsx("th",{className:"px-4 py-1",children:"Stage Name"}),e.jsx("th",{className:"hidden md:block px-4 py-1",children:"Full Name"}),e.jsx("th",{className:"px-4 py-1",children:"Phone"}),e.jsx("th",{className:"hidden md:table-cell px-4 py-1",children:"Email"}),e.jsx("th",{className:"px-4 py-1 text-center w-40"})]})}),e.jsx("tbody",{className:"font-LatoRegular text-sm",children:c.length===0?e.jsx("p",{className:"font-LatoRegular text-gray-900 text-base text-center",children:"No data found."}):c.map((t,a)=>e.jsxs("tr",{className:`${a%2===0?"bg-gray-100":""} group/actions`,children:[e.jsx("td",{className:"hidden md:block border px-4 py-1 capitalize",children:e.jsx("img",{src:`${g}/${t.user_information.profile_picture_url}`,alt:`${t.user_information.last_name}'s logo`,className:"w-24 md:w-8 h-8 md:max-h-8 rounded-full bg-gray-300 shadow object-center object-cover bg-transparent text-xs"})}),e.jsx("td",{className:"border px-4 py-1 capitalize",children:t.stage_name}),e.jsx("td",{className:"hidden md:block border px-4 py-1 capitalize font-normal",children:`${t.user_information.first_name} ${t.user_information.middle_name!=null?t.user_information.middle_name:""} ${t.user_information.last_name}`}),e.jsx("td",{className:"border px-4 py-1 capitalize",children:t.user_information.phone}),e.jsx("td",{className:"hidden md:table-cell border px-4 py-1 lowercase",children:t.user_information.email}),e.jsxs("td",{className:"border border-b-transparent border-l-transparent border-r-transparent block px-4 py-1 opacity-80 transition-all ease-linear group-hover/actions:block",children:[e.jsx(u,{to:`../artists/${t.id}`,children:e.jsx("button",{className:"bg-transparent px-2 py-1 rounded mr-1 hover:bg-blue-700 group",children:e.jsx(I,{className:"w-5 h-5 text-blue-500 group-hover:text-white transition ease-in-out"})})}),e.jsx("button",{onClick:()=>m(t),className:"bg-transparent px-2 py-1 rounded hover:bg-red-700 group",children:e.jsx(G,{className:"w-5 h-5 text-red-500 group-hover:text-white transition ease-in-out"})})]})]},a))})]})]})})},qe=()=>e.jsxs(T,{children:[e.jsx(D,{currentPage:"artists",user:"admin"}),e.jsxs("div",{className:"text-slate-900 px-4",children:[e.jsx(s.Typography,{variant:"h4",className:"text-lg font-LatoBold",children:"Artists"}),e.jsx(U,{})]})]});export{qe as default};
