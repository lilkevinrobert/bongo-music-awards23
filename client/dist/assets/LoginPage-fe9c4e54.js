import{r as i,j as e}from"./react-b2e82637.js";import{r as s}from"./@material-tailwind-afa50add.js";import{I as w,_ as x}from"./react-hot-toast-06a3b5b6.js";import{a as p}from"./index-09f6a934.js";import{e as j}from"./react-router-fd5cd91a.js";import"./@emotion-a47f5506.js";import"./classnames-63c61219.js";import"./tailwind-merge-4e201461.js";import"./prop-types-387d7a00.js";import"./deepmerge-1a216343.js";import"./tslib-364d82a0.js";import"./hey-listen-182987e5.js";import"./style-value-types-86c13b32.js";import"./popmotion-54532aa8.js";import"./framesync-409e5dda.js";import"./@motionone-b992d625.js";import"./material-ripple-effects-ffa693ae.js";import"./@floating-ui-d8ef0372.js";import"./aria-hidden-318acb9e.js";import"./tabbable-6ab97b54.js";import"./react-dom-53265323.js";import"./scheduler-765c72db.js";import"./goober-70b4b9ca.js";import"./tw-elements-ab3535c4.js";import"./react-router-dom-612f81c8.js";import"./@remix-run-3d0d33fe.js";import"./axios-28bc18a3.js";import"./flowbite-react-dd6928ea.js";import"./react-indiana-drag-scroll-45a13ea1.js";import"./react-icons-7754dc58.js";const y={email:"",password:""},v={email:[],password:[]},N=()=>{var d,g;const[l,o]=i.useState(y),[t]=i.useState(v),u=j(),c=r=>{const a=r.target.name,n=r.target.value;o(f=>({...f,[a]:n}))},h=async()=>{const{data:r}=await p.get("/api/user");console.log(r)},m=async r=>{r.preventDefault(),window.setTimeout(()=>x.success(e.jsx("p",{className:"capitalize",children:"Authenticating..."})),1e3),await p.get("https://api.bongomusicawards.co.tz/sanctum/csrf-cookie").then(()=>{p.post("https://api.bongomusicawards.co.tz/login",l).then(a=>{console.log(a);const n=a.data.data.token;p.defaults.headers.common.Authorization=`Bearer ${n}`,console.log("Response:Token "+a.data.data.token),h(),u("/admin/dashboard")}).catch(a=>{a.response.status===422&&console.log(a.response.data.errors)})})};return e.jsxs(e.Fragment,{children:[e.jsx(s.Card,{className:"w-96 shadow-none",children:e.jsxs("form",{onSubmit:m,children:[e.jsx(s.CardHeader,{className:"flex flex-col items-center justify-center shadow-none",children:e.jsx(s.Typography,{className:"self-start pl-2",children:"Enter account credentials to login."})}),e.jsxs(s.CardBody,{className:"flex flex-col gap-4 my-2",children:[e.jsxs("div",{children:[e.jsx(s.Input,{color:"black",crossOrigin:void 0,className:"my-1 rounded-md",placeholder:"Enter Your Email Address",type:"email",name:"email",onChange:c}),((d=t==null?void 0:t.email)==null?void 0:d.length)>0&&e.jsx("span",{className:"text-red-400 text-sm m-2 p-2",children:t.email[0]})]}),e.jsxs("div",{children:[e.jsx(s.Input,{color:"black",crossOrigin:void 0,className:"my-1 rounded-md",placeholder:"Enter Your Password",type:"password",name:"password",onChange:c}),((g=t==null?void 0:t.password)==null?void 0:g.length)>0&&e.jsx("span",{className:"text-red-400 text-sm m-2 p-2",children:t.password[0]})]})]}),e.jsxs(s.CardFooter,{className:"pt-0",children:[e.jsx(s.Button,{variant:"gradient",fullWidth:!0,className:"bg-slate-900 hover:bg-yellow-400 transition ease-in-out",onClick:m,children:"Log In"}),e.jsx(s.Typography,{variant:"small",className:"mt-6 flex justify-center",children:"Forgot Password?"})]})]})}),e.jsx(w,{position:"top-center"})]})},b=()=>{const[l,o]=i.useState(""),[t,u]=i.useState(""),[c,h]=i.useState(""),[m,d]=i.useState(""),g=j(),r=async a=>{a.preventDefault();try{await p.post("/register",{firstname:l,lastname:t,email:c,password:m}).then(n=>{console.log(n),window.setTimeout(()=>x.success(e.jsx("p",{className:"capitalize",children:"Registering..."})),2e3),o(""),u(""),h(""),d(""),g("/admin/dashboard")}).catch(n=>{console.log(n)})}catch(n){console.log(n)}};return e.jsxs(s.Card,{className:"shadow-none border-none",children:[e.jsx(s.Typography,{color:"gray",className:"sfont-normal",children:"Enter your details to register."}),e.jsxs("form",{onSubmit:r,className:"mt-8 mb-2 w-80 max-w-screen-lg sm:w-96",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-6",children:[e.jsx(s.Input,{color:"black",crossOrigin:void 0,value:l,onChange:a=>o(a.target.value),className:"my-1 rounded-md",placeholder:"Enter Your firstname"}),e.jsx(s.Input,{color:"black",crossOrigin:void 0,value:t,onChange:a=>u(a.target.value),className:"my-1 rounded-md",placeholder:"Enter Your lastname"}),e.jsx(s.Input,{color:"black",crossOrigin:void 0,value:c,onChange:a=>h(a.target.value),className:"my-1 rounded-md",placeholder:"Enter Your Email Address",type:"email"}),e.jsx(s.Input,{color:"black",crossOrigin:void 0,value:m,onChange:a=>d(a.target.value),className:"my-1 rounded-md",placeholder:"Enter Your Password",type:"password"})]}),e.jsx(s.Button,{className:"mt-6",fullWidth:!0,onClick:r,children:"Register"})]})]})},ee=()=>{const l=[{label:"LOGIN",value:"login",desc:e.jsx(N,{})},{label:"REGISTER",value:"register",desc:e.jsx(b,{})}];return e.jsx("section",{className:"px-4 w-full h-screen flex flex-col items-center justify-center bg-white",children:e.jsxs("div",{className:"w-full lg:w-1/2 shadow-none",children:[e.jsx("div",{className:"w-full flex flex-row items-center justify-center my-4",children:e.jsx(s.Typography,{variant:"h4",className:"text-slate-900 capitalize",children:"Bongo music Awards"})}),e.jsxs(s.Tabs,{id:"custom-animation",value:"html",children:[e.jsx(s.TabsHeader,{className:"text-slate-900 bg-gradient-to-r from-yellow-400 to-white",children:l.map(({label:o,value:t})=>e.jsx(s.Tab,{value:t,className:"hover:bg-white hover:rounded-md",children:o},t))}),e.jsx(s.TabsBody,{animate:{initial:{y:250},mount:{y:0},unmount:{y:250}},children:l.map(({value:o,desc:t})=>e.jsx(s.TabPanel,{value:o,className:"flex items-center justify-center",children:t},o))})]})]})})};export{ee as default};
