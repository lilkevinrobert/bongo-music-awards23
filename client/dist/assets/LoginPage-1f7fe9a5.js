import{r as n,j as e}from"./react-b72defc1.js";import{r as a}from"./@material-tailwind-31758b72.js";import{I as y,_ as m}from"./react-hot-toast-7c13a961.js";import{a as p,T as v,L}from"./index-c8a3b4a3.js";import{N as j}from"./react-router-dom-fc96d914.js";import{e as b}from"./react-router-1941b8c8.js";import{P as R}from"./react-spinners-e022d723.js";import"./@emotion-dbfef640.js";import"./classnames-63c61219.js";import"./tailwind-merge-4e201461.js";import"./prop-types-1cbc6ab3.js";import"./deepmerge-1a216343.js";import"./tslib-e99c189e.js";import"./hey-listen-e9db0d45.js";import"./style-value-types-86c13b32.js";import"./popmotion-e8151042.js";import"./framesync-409e5dda.js";import"./@motionone-d9be48c4.js";import"./material-ripple-effects-ffa693ae.js";import"./@floating-ui-b9e68a19.js";import"./aria-hidden-318acb9e.js";import"./tabbable-6ab97b54.js";import"./react-dom-c53f0256.js";import"./scheduler-765c72db.js";import"./goober-70b4b9ca.js";import"./tw-elements-ab3535c4.js";import"./axios-28bc18a3.js";import"./react-icons-eae2ed3d.js";import"./react-hook-form-eb4a3cdd.js";import"./flowbite-react-f17822ed.js";import"./react-indiana-drag-scroll-6942150b.js";import"./recharts-b436783c.js";import"./clsx-0839fdbe.js";import"./lodash-36a35ae7.js";import"./react-smooth-ce808070.js";import"./fast-equals-a0711cdd.js";import"./tiny-invariant-dd7d57d2.js";import"./d3-shape-9e788a4f.js";import"./d3-path-41c4cb36.js";import"./victory-vendor-5e3e398c.js";import"./d3-scale-4cce9527.js";import"./internmap-7949acc8.js";import"./d3-array-7d9b19f9.js";import"./d3-time-format-aa787c71.js";import"./d3-time-9ce187c0.js";import"./d3-interpolate-8fa1f6ff.js";import"./d3-color-6502c434.js";import"./d3-format-ffdb8652.js";import"./recharts-scale-170b47f7.js";import"./decimal.js-light-6fe16ef2.js";import"./eventemitter3-5051c9e6.js";import"./@remix-run-3d0d33fe.js";const T={email:"",password:""},C={email:[],password:[]},z=()=>{var h,w;const[d,s]=n.useState(T),[o,x]=n.useState(""),[r]=n.useState(C),c=b(),g=l=>{const t=l.target.name,i=l.target.value;s(N=>({...N,[t]:i}))},f=async()=>{const{data:l}=await p.get("/user");console.log(l)},u=async l=>{l.preventDefault(),await p.get("https://api.bongomusicawards.co.tz/sanctum/csrf-cookie").then(()=>{window.setTimeout(()=>m.success(e.jsx("p",{className:"capitalize",children:"Authenticating..."})),1e3),p.post("https://api.bongomusicawards.co.tz/login",d).then(t=>{console.log(t);const i=t.data.data.token;p.defaults.headers.common.Authorization=`Bearer ${i}`,console.log("Response:Token "+t.data.data.token),f(),x(t.data.data.role),o=="admin"&&c("/admin/dashboard"),o=="Artist"&&c("/artist/dashboard"),o=="nominator"&&c("/nominator/dashboard"),o=="judge"&&c("/judge/dashboard")}).catch(t=>{t.response.status===422&&console.log(t.response.data.errors)})}).catch(()=>{window.setTimeout(()=>m.error(e.jsx("p",{className:"capitalize font-LatoBold",children:"Failed to login...Try again"})),1e3)})};return e.jsxs(e.Fragment,{children:[e.jsx(a.Card,{className:"w-96 shadow-none",children:e.jsxs("form",{onSubmit:u,children:[e.jsx(a.CardHeader,{className:"flex flex-col items-center justify-center shadow-none",children:e.jsx(a.Typography,{className:"self-start pl-2 text-lg text-gray-900 font-LatoRegular",children:"Enter account credentials to login."})}),e.jsxs(a.CardBody,{className:"flex flex-col gap-4 my-1",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"font-LatoBold capitalize text-gray-900",children:"email address"}),e.jsx("input",{placeholder:"Enter your Email Address",type:"email",name:"email",onChange:g,className:"pl-4 rounded-lg w-full font-LatoRegular border border-gray-500"}),((h=r==null?void 0:r.email)==null?void 0:h.length)>0&&e.jsx("span",{className:"text-red-400 text-sm m-2 p-2",children:r.email[0]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"font-LatoBold capitalize text-gray-900",children:"password"}),e.jsx("input",{placeholder:"Enter Your Password",type:"password",name:"password",onChange:g,className:"pl-4 rounded-lg w-full font-LatoRegular border border-gray-500"}),((w=r==null?void 0:r.password)==null?void 0:w.length)>0&&e.jsx("span",{className:"text-red-400 text-sm m-2 p-2",children:r.password[0]})]})]}),e.jsxs(a.CardFooter,{className:"pt-0",children:[e.jsx(a.Button,{variant:"gradient",fullWidth:!0,className:"bg-gray-950 hover:bg-yellow-300 text-white hover:text-gray-950 transition ease-in-out font-LatoBold",onClick:u,children:"Log In"}),e.jsx(j,{to:"/recovery",children:e.jsx(a.Typography,{variant:"small",className:"mt-6 flex justify-center font-LatoRegular transition-all ease-in-out hover:underline hover:underline-offset-4",children:"Forgot Password?"})})]})]})}),e.jsx(y,{position:"top-center"})]})},E=()=>{const[d,s]=n.useState(!1),[o,x]=n.useState(""),[r,c]=n.useState(""),[g,f]=n.useState(""),[u,h]=n.useState(""),w=b(),l=async t=>{t.preventDefault(),s(!0),await p.get("https://api.bongomusicawards.co.tz/sanctum/csrf-cookie").then(()=>{p.post("https://api.bongomusicawards.co.tz/api/artists/register",{first_name:o,last_name:r,email:g,password:u}).then(i=>{console.log(i),window.setTimeout(()=>m.success(e.jsx("p",{className:"capitalize",children:"Registering..."})),2e3),x(""),c(""),f(""),h(""),window.setTimeout(()=>m.success(e.jsx("p",{className:"capitalize",children:"Account Created successful..."})),2e3),s(!1),w("/login")}).catch(i=>{console.log(i),window.setTimeout(()=>m.error(e.jsx("p",{className:"capitalize",children:"Failed to create Account..."})),1e3),s(!1)})}).catch(i=>{console.log(i),window.setTimeout(()=>m.error(e.jsx("p",{className:"capitalize font-LatoBold",children:"Failed to Create artist..."})),1e3),s(!1)})};return e.jsx(a.Card,{className:"w-96 shadow-none",children:e.jsxs("form",{onSubmit:l,className:"mt-0 mb-2 w-full max-w-screen-lg sm:w-96",children:[e.jsx(a.CardHeader,{className:"shadow-none pl-2",children:e.jsx(a.Typography,{className:"text-lg text-gray-800 font-LatoRegular",children:"Enter your details to register."})}),e.jsxs(a.CardBody,{className:"mb-4 flex flex-col gap-4",children:[e.jsx("input",{type:"text",value:o,onChange:t=>x(t.target.value),className:"pl-4 rounded-lg w-full font-LatoRegular text-gray-900 border border-gray-400",placeholder:"Enter your Firstname"}),e.jsx("input",{type:"text",value:r,onChange:t=>c(t.target.value),className:"pl-4 rounded-lg w-full font-LatoRegular text-gray-900 border border-gray-400",placeholder:"Enter your Lastname"}),e.jsx("input",{value:g,onChange:t=>f(t.target.value),className:"pl-4 rounded-lg w-full font-LatoRegular text-gray-900 border border-gray-400",placeholder:"Enter your Email Address",type:"email"}),e.jsx("input",{value:u,onChange:t=>h(t.target.value),className:"pl-4 rounded-lg w-full font-LatoRegular text-gray-900 border border-gray-400",placeholder:"Enter your Password",type:"password"}),e.jsx(a.Button,{className:"font-LatoBold bg-gray-950 hover:bg-yellow-300 text-white hover:text-gray-950 transition ease-linear",fullWidth:!0,onClick:l,children:"Register"})]}),e.jsx(y,{position:"top-center"}),d&&e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx(R,{color:"#36d7b7"})})]})})},ze=()=>{const d=[{label:"LOGIN",value:"login",desc:e.jsx(z,{})},{label:"REGISTER",value:"register",desc:e.jsx(E,{})}];return e.jsxs("section",{className:"relative px-4 w-full h-screen flex flex-col items-center justify-center bg-white",children:[e.jsx("img",{className:"absolute w-full h-full top-0 left-0 z-0 object-cover object-center bg-yellow-200 opacity-5",src:v,loading:"lazy"}),e.jsxs("div",{className:"w-full lg:w-1/2 shadow-none z-10",children:[e.jsx("div",{className:"w-full flex flex-row items-center justify-center my-4",children:e.jsx(j,{to:"/",className:"cursor-pointer",children:e.jsx("img",{src:L,alt:"bongo music awards logo",className:"text-sm w-36"})})}),e.jsxs(a.Tabs,{id:"custom-animation",value:"html",children:[e.jsx(a.TabsHeader,{className:"text-gray-950 bg-gradient-to-r from-yellow-300 to-white",children:d.map(({label:s,value:o})=>e.jsx(a.Tab,{value:o,className:"hover:bg-white hover:rounded-md text-gray-900 font-LatoBold",children:s},o))}),e.jsx(a.TabsBody,{animate:{initial:{y:250},mount:{y:0},unmount:{y:250}},className:"bg-white rounded-md shadow",children:d.map(({value:s,desc:o})=>e.jsx(a.TabPanel,{value:s,className:"flex items-center justify-center",children:o},s))}),e.jsx("p",{className:"font-LatoRegular text-gray-600 text-xs text-center pt-4",children:"Â© All rights reserved."})]})]})]})};export{ze as default};
