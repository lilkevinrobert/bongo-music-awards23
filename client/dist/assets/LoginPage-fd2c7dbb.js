import{r as i,j as e}from"./react-b2e82637.js";import{r as s}from"./@material-tailwind-afa50add.js";import{I as w,_ as x}from"./react-hot-toast-06a3b5b6.js";import{a as m}from"./index-0e609fab.js";import{e as y}from"./react-router-fd5cd91a.js";import{P as N}from"./react-spinners-110751f0.js";import"./@emotion-a47f5506.js";import"./classnames-63c61219.js";import"./tailwind-merge-4e201461.js";import"./prop-types-387d7a00.js";import"./deepmerge-1a216343.js";import"./tslib-364d82a0.js";import"./hey-listen-182987e5.js";import"./style-value-types-86c13b32.js";import"./popmotion-54532aa8.js";import"./framesync-409e5dda.js";import"./@motionone-b992d625.js";import"./material-ripple-effects-ffa693ae.js";import"./@floating-ui-d8ef0372.js";import"./aria-hidden-318acb9e.js";import"./tabbable-6ab97b54.js";import"./react-dom-53265323.js";import"./scheduler-765c72db.js";import"./goober-70b4b9ca.js";import"./tw-elements-ab3535c4.js";import"./react-router-dom-612f81c8.js";import"./@remix-run-3d0d33fe.js";import"./axios-28bc18a3.js";import"./flowbite-react-dd6928ea.js";import"./react-indiana-drag-scroll-45a13ea1.js";import"./react-icons-7754dc58.js";const v={email:"",password:""},b={email:[],password:[]},T=()=>{var u,h;const[l,t]=i.useState(v),[a]=i.useState(b),j=y(),d=n=>{const r=n.target.name,c=n.target.value;t(o=>({...o,[r]:c}))},f=async()=>{const{data:n}=await m.get("/api/user");console.log(n)},p=async n=>{n.preventDefault(),window.setTimeout(()=>x.success(e.jsx("p",{className:"capitalize",children:"Authenticating..."})),1e3),await m.get("https://api.bongomusicawards.co.tz/sanctum/csrf-cookie").then(()=>{m.post("https://api.bongomusicawards.co.tz/login",l).then(r=>{console.log(r);const c=r.data.data.token;m.defaults.headers.common.Authorization=`Bearer ${c}`,console.log("Response:Token "+r.data.data.token),f(),j("/admin/dashboard")}).catch(r=>{r.response.status===422&&console.log(r.response.data.errors)})})};return e.jsxs(e.Fragment,{children:[e.jsx(s.Card,{className:"w-96 shadow-none",children:e.jsxs("form",{onSubmit:p,children:[e.jsx(s.CardHeader,{className:"flex flex-col items-center justify-center shadow-none",children:e.jsx(s.Typography,{className:"self-start pl-2",children:"Enter account credentials to login."})}),e.jsxs(s.CardBody,{className:"flex flex-col gap-4 my-2",children:[e.jsxs("div",{children:[e.jsx(s.Input,{color:"black",crossOrigin:void 0,className:"my-1 rounded-md",placeholder:"Enter Your Email Address",type:"email",name:"email",onChange:d}),((u=a==null?void 0:a.email)==null?void 0:u.length)>0&&e.jsx("span",{className:"text-red-400 text-sm m-2 p-2",children:a.email[0]})]}),e.jsxs("div",{children:[e.jsx(s.Input,{color:"black",crossOrigin:void 0,className:"my-1 rounded-md",placeholder:"Enter Your Password",type:"password",name:"password",onChange:d}),((h=a==null?void 0:a.password)==null?void 0:h.length)>0&&e.jsx("span",{className:"text-red-400 text-sm m-2 p-2",children:a.password[0]})]})]}),e.jsxs(s.CardFooter,{className:"pt-0",children:[e.jsx(s.Button,{variant:"gradient",fullWidth:!0,className:"bg-slate-900 hover:bg-yellow-400 transition ease-in-out",onClick:p,children:"Log In"}),e.jsx(s.Typography,{variant:"small",className:"mt-6 flex justify-center",children:"Forgot Password?"})]})]})}),e.jsx(w,{position:"top-center"})]})},C=()=>{const[l,t]=i.useState(!1),[a,j]=i.useState(""),[d,f]=i.useState(""),[p,u]=i.useState(""),[h,n]=i.useState(""),r=y(),c=async o=>{o.preventDefault(),t(!0),await m.get("https://api.bongomusicawards.co.tz/sanctum/csrf-cookie").then(()=>{m.post("https://api.bongomusicawards.co.tz/api/artists/register",{firstname:a,lastname:d,email:p,password:h}).then(g=>{console.log(g),window.setTimeout(()=>x.success(e.jsx("p",{className:"capitalize",children:"Registering..."})),2e3),j(""),f(""),u(""),n(""),window.setTimeout(()=>x.success(e.jsx("p",{className:"capitalize",children:"Account Created successful..."})),2e3),t(!1),r("/admin/dashboard")}).catch(g=>{console.log(g),window.setTimeout(()=>x.error(e.jsx("p",{className:"capitalize",children:"Failed to create Account..."})),1e3),t(!1)})}).catch(g=>{console.log(g),window.setTimeout(()=>x.error(e.jsx("p",{className:"capitalize",children:"Failed to Create artist..."})),1e3),t(!1)})};return e.jsxs(s.Card,{className:"shadow-none border-none",children:[e.jsx(s.Typography,{color:"gray",className:"sfont-normal",children:"Enter your details to register."}),e.jsxs("form",{onSubmit:c,className:"mt-8 mb-2 w-80 max-w-screen-lg sm:w-96",children:[e.jsxs("div",{className:"mb-4 flex flex-col gap-6",children:[e.jsx(s.Input,{color:"black",crossOrigin:void 0,value:a,onChange:o=>j(o.target.value),className:"my-1 rounded-md",placeholder:"Enter Your firstname"}),e.jsx(s.Input,{color:"black",crossOrigin:void 0,value:d,onChange:o=>f(o.target.value),className:"my-1 rounded-md",placeholder:"Enter Your lastname"}),e.jsx(s.Input,{color:"black",crossOrigin:void 0,value:p,onChange:o=>u(o.target.value),className:"my-1 rounded-md",placeholder:"Enter Your Email Address",type:"email"}),e.jsx(s.Input,{color:"black",crossOrigin:void 0,value:h,onChange:o=>n(o.target.value),className:"my-1 rounded-md",placeholder:"Enter Your Password",type:"password"})]}),e.jsx(s.Button,{className:"mt-6",fullWidth:!0,onClick:c,children:"Register"}),e.jsx(w,{position:"top-center"}),l&&e.jsx("div",{className:"flex items-center justify-center mt-4",children:e.jsx(N,{color:"#36d7b7"})})]})]})},te=()=>{const l=[{label:"LOGIN",value:"login",desc:e.jsx(T,{})},{label:"REGISTER",value:"register",desc:e.jsx(C,{})}];return e.jsx("section",{className:"px-4 w-full h-screen flex flex-col items-center justify-center bg-white",children:e.jsxs("div",{className:"w-full lg:w-1/2 shadow-none",children:[e.jsx("div",{className:"w-full flex flex-row items-center justify-center my-4",children:e.jsx(s.Typography,{variant:"h4",className:"text-slate-900 capitalize",children:"Bongo music Awards"})}),e.jsxs(s.Tabs,{id:"custom-animation",value:"html",children:[e.jsx(s.TabsHeader,{className:"text-slate-900 bg-gradient-to-r from-yellow-400 to-white",children:l.map(({label:t,value:a})=>e.jsx(s.Tab,{value:a,className:"hover:bg-white hover:rounded-md",children:t},a))}),e.jsx(s.TabsBody,{animate:{initial:{y:250},mount:{y:0},unmount:{y:250}},children:l.map(({value:t,desc:a})=>e.jsx(s.TabPanel,{value:t,className:"flex items-center justify-center",children:a},t))})]})]})})};export{te as default};
